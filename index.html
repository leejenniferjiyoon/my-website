<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Jennifer Jiyoon Lee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;400&display=swap" rel="stylesheet">
  <style>
    html, body, #root {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      background-color: #FDFDFD;
      /* Changed to Montserrat */
      font-family: 'Montserrat', sans-serif;
    }

    .app-root {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      cursor: none;
    }

    .bdp-title {
      position: absolute;
      top: 2rem;
      left: 2rem;
      pointer-events: none;
      font-weight: 100;
      font-size: 1.5rem;
      color: #1f2933;
      /* Added tracking for a cleaner thin look */
      letter-spacing: 0.05em;
    }

    .bdp-instruction {
      position: absolute;
      right: 1.5rem;
      bottom: 1.5rem;
      pointer-events: none;
      font-size: 0.7rem;
      color: #9CA3AF;
      /* Changed from SF Mono to Montserrat */
      font-family: 'Montserrat', sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-weight: 200;
    }

    .overlay-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .overlay-card {
      background: white;
      max-width: 640px;
      width: 100%;
      margin: 0 1rem;
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    }

    .overlay-title {
      font-size: 1.25rem;
      font-weight: 200;
      margin-bottom: 0.75rem;
      
    }

    .overlay-image {
      width: 100%;
      max-height: 18rem;
      object-fit: contain;
      border-radius: 0.01rem;
      margin-bottom: 1rem;
    }

    .overlay-text {
      font-size: 0.9rem;
      line-height: 1.4;
      color: #374151;
      white-space: pre-line;
    }

    .overlay-button {
      margin-top: 1rem;
      padding: 0.4rem 1rem;
      font-size: 0.8rem;
      font-weight: 500;
      border-radius: 999px;
      border: none;
      color: white;
      background: black;
      cursor: pointer;
    }

    .overlay-button:hover {
      background: #111827;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React + Babel CDN (no build tools required) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Your app code -->
  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    // === ASSET PATHS (NO LEADING SLASH, FILES MUST BE NEXT TO index.html) ===
    const ASSETS = {
      pianos: 'bdp_pianos.webp',
      rash: 'bdp_rash.webp',
      moodring: 'BDP_MOODRING.webp',
      jade: 'bdpXjade.webp',       // renamed file
      bdp23: 'blackletter.webp',       // renamed file

      eye: 'bdpeye.webp',
      rooftop: 'bdp_rooftop.webp',
      mansions: 'bdpmansions.webp',
      funpackage: 'package1.webp',
      funtwopackage: 'package2.webp',
      copiapackage: 'copiapackage.webp',
        copia1: 'copiapackage2.webp',
        copia2: 'copiapackagesketch.webp',
        copia3: 'copiabox.webp',
      perfume: 'perfume.webp',
        perfume1: 'perfumesketch.webp',
        perfume2: 'perfume1.webp',
        perfume3: 'perfume2.webp',
        perfume4: 'perfume3.webp',
      me: 'facecard.webp',
      fuck: 'fuck.webp',
      mib: 'meninblack.webp',
      skies: 'skies.webp',
      woman: 'wom.webp',
      clock: 'clockout.webp',
      fujione: 'fujibar.webp',
      fujitwo: 'fujigraphic.webp',
      fujivid: 'fujivid.mp4',

      tree: 'piedmont.webp',
      dot: 'sekse.webp',
      lines: 'MIFalbumbyclementine.webp',
      figure: 'saborami.webp',
      face: 'shotyalb.webp',
      lips: 'album3.webp',

      rubyone: 'ruby1.webp',
      rubytwo: 'ruby2.webp',
      rubythree: 'ruby3.webp',
      rubyfour: 'ruby4.webp',
      rubyfive: 'ruby5.webp',
      rubysix: 'ruby6.webp',

      chair: 'chair.webp',
        chair1: 'chairfinal3.webp',
        chair2: 'chairsketch.webp',
        chair3: 'chairmeasure.webp',
        chair4: 'chairwoodcurve.webp',
        chair5: 'chairwood.webp',
        chair6: 'chairmetal.webp',
        chair7: 'chairmetalbend.webp',
        chair8: 'chairweld.webp',
        chair9: 'chairwelded.webp',
        chair10: 'chairpaint.webp',
        chair11: 'chairglue.webp',
        chair12: 'chairfinal1.webp',
        chair13: 'chairfinal2.webp',

      lamp: 'lamp.webp',
        lamp1: 'lampfinal4.webp',
        lamp2: 'lampfinal5.webp',
        lamp3: 'lampsketch.webp',
        lamp4: 'lamplaser.webp',
        lamp5: 'lampsheets.webp',
        lamp6: 'lamptest.webp',
        lamp7: 'lamptube.webp',
        lamp8: 'lampwire.webp',
        lamp9: 'lamp3d.webp',
        lamp10: 'lampwire2.webp',
        lamp11: 'lamppaint.webp',
        lamp12: 'lampalmost.webp',
        lamp13: 'lampfinal1.webp',
        lamp14: 'lampfinal2.webp',
        lamp15: 'lampfinal3.webp',
    };

    const LINES = [
      {
        id: 'line-1-brown-top-left',
        x1: 12, y1: 15,
        x2: 78, y2: 88,
        color: '#8B5E56',
        images: [ASSETS.pianos, ASSETS.moodring, ASSETS.bdp23],
      },
      {
        id: 'line-2-pink-steep',
        x1: 18, y1: 8,
        x2: 36, y2: 95,
        color: '#FF6B9D',
        images: [ASSETS.rash, ASSETS.jade, ASSETS.mansions],
      },
      {
        id: 'line-3-cyan-cross',
        x1: 12, y1: 45,
        x2: 66, y2: 86,
        color: '#00FFFF',
        images: [ASSETS.eye, ASSETS.rooftop],
      },
      {
        id: 'line-4-purple-steep',
        x1: 28, y1: 9,
        x2: 40, y2: 95,
        color: '#9FA2D6',
        images: [
          ASSETS.tree,
          ASSETS.dot,
          ASSETS.lines,
          ASSETS.figure,
          ASSETS.face,
          ASSETS.lips
        ],
      },
      {
        id: 'line-5-orange-vertical',
        x1: 47, y1: 11,
        x2: 48, y2: 92,
        color: '#FFB38A',
        images: [ASSETS.chair, ASSETS.lamp, ASSETS.clock],
      },
      {
        id: 'line-6-green-steep-up',
        x1: 52, y1: 96,
        x2: 58, y2: 4,
        color: '#66FFB2',
        images: [ASSETS.funpackage, ASSETS.funtwopackage, ASSETS.copiapackage, ASSETS.perfume],
      },
      {
        id: 'line-7-pink-right',
        x1: 65, y1: 17,
        x2: 71, y2: 96,
        color: '#FF6B9D',
        images: [ASSETS.me, ASSETS.fuck, ASSETS.mib, ASSETS.skies, ASSETS.woman],
      },
      {
        id: 'line-8-brown-right',
        x1: 69, y1: 24,
        x2: 82, y2: 94,
        color: '#8B5E56',
        images: [ ASSETS.fujione, ASSETS.fujitwo, ASSETS.fujivid],
      },
      {
        id: 'line-9-purple-far-right',
        x1: 78, y1: 96,
        x2: 88, y2: 5,
        color: '#9FA2D6',
        images: [ASSETS.rubyone, ASSETS.rubythree, ASSETS.rubyfour, ASSETS.rubyfive, ASSETS.rubysix ],
      },
    ];

    // === TEXT TEMPLATE FOR EACH IMAGE ===
    const IMAGE_INFO = {
      [ASSETS.pianos]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.rash]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.moodring]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.jade]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.bdp23]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.eye]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.rooftop]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.mansions]: {
        title: 'BRANDING/MARKETING',
        description: `marketing/branding design for a brooklyn based DJ collective's socials and events, BUSHWICK DOMESTIC PRODUCT.`,
      },
      [ASSETS.tree]: {
        title: 'GRAPHIC DESIGN:)',
        description: `my digital perception of piedmont park in atlanta, GA.`,
      },
      [ASSETS.dot]: {
        title: 'ALBUM DESIGN:)',
        description: `album cover design (for fun) inspired by the "Made In France" album by french aritst Clementine.`,
      },
      [ASSETS.lines]: {
        title: 'ALBUM DESIGN:)',
        description: `album cover design (for fun) inspired by the "Made In France" album by french aritst Clementine.`,
      },
      [ASSETS.figure]: {
        title: 'ALBUM DESIGN',
        description: `album cover design (for fun) inspired by the "Made In France" album by french aritst Clementine.`,
      },
      [ASSETS.face]: {
        title: 'ALBUM DESIGN',
        description: `album cover art for an ATL based artist, SHOTY.`,
      },
      [ASSETS.lips]: {
        title: 'ALBUM DESIGN',
        description: `album cover art for an ATL based artist, SHOTY.`,
      },
      [ASSETS.chair]: {
        title: 'FURNITURE DESIGN',
        description: `chair design inspired by wings of a dove and shape of hanging curtains: "nalgae".`,
        process_images: [ ASSETS.chair1, ASSETS.chair2, ASSETS.chair3, ASSETS.chair4, ASSETS.chair5, ASSETS.chair6, ASSETS.chair7, ASSETS.chair8, ASSETS.chair9, ASSETS.chair10, ASSETS.chair11, ASSETS.chair12, ASSETS.chair13
        ]
      },
      [ASSETS.lamp]: {
        title: 'FURNITURE DESIGN',
        description: `lamp design inspired by musical vinyl records. for all the jazz lovers.`,

        process_images: [ ASSETS.lamp1, ASSETS.lamp2, ASSETS.lamp3, ASSETS.lamp4, ASSETS.lamp5, ASSETS.lamp6, ASSETS.lamp7, ASSETS.lamp8, ASSETS.lamp9, ASSETS.lamp10, ASSETS.lamp11, ASSETS.lamp12, ASSETS.lamp13, ASSETS.lamp14, ASSETS.lamp15
          // put images in here like the assets dot ....
        ],
      },
      [ASSETS.funpackage]: {
        title: 'PACKAGING',
        description: `packaging design for rings.`,
      },
      [ASSETS.funtwopackage]: {
        title: 'PACKAGING',
        description: `packaging design for earrings.`,
      },
      [ASSETS.copiapackage]: {
        title: 'PACKAGING',
        description: `film roll packaging design for ATL based music record label, COPIA.`,
        process_images: [ ASSETS.copia1, ASSETS.copia2, ASSETS.copia3],
      },
      [ASSETS.perfume]: {
        title: 'PACKAGING',
        description: `packaging design for perfumes.`,
        process_images: [ ASSETS.perfume1, ASSETS.perfume2, ASSETS.perfume3, ASSETS.perfume4 ],
      },
      [ASSETS.me]: {
        title: 'FOR FUN',
        description: ` title: facecard `,
      },
      [ASSETS.mib]: {
        title: 'FOR FUN',
        description: ` title: meninblack `,
      },
      [ASSETS.fuck]: {
        title: 'FOR FUN',
        description: ` title: birthdays `,
      },
      [ASSETS.skies]: {
        title: 'FOR FUN',
        description: ` title: goodbye `,
      },
      [ASSETS.woman]: {
        title: 'FOR FUN',
        description: ` title: sexi `,
      },
      [ASSETS.clock]: {
        title: 'FURNITURE DESIGN',
        description: ` an imaginary clock `,
      },
      [ASSETS.fujione]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based lifestyle/protein bar company, FUJI `,
      },
      [ASSETS.fujitwo]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based lifestyle/protein bar company, FUJI `,
      },
      [ASSETS.fujivid]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based lifestyle/protein bar company, FUJI `,
        is_video: true,
      },
      [ASSETS.rubyone]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based beverage company, RUBY HIBISCUS WATER`,
      },
      [ASSETS.rubytwo]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based beverage company, RUBY HIBISCUS WATER`,
      },
      [ASSETS.rubythree]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based beverage company, RUBY HIBISCUS WATER`,
      },
      [ASSETS.rubyfour]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based beverage company, RUBY HIBISCUS WATER`,
      },
      [ASSETS.rubyfive]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based beverage company, RUBY HIBISCUS WATER`,
      },
      [ASSETS.rubysix]: {
        title: 'BRANDING/MARKETING',
        description: ` branding and marketing design for NYC based beverage company, RUBY HIBISCUS WATER`,
      },

    };

    function InteractiveLine({ line, onHoverChange }) {
      const lineRef = useRef(null);

      const handleMouseMove = useCallback((e) => {
        if (!lineRef.current) return;
        const svgElement = lineRef.current.ownerSVGElement;
        if (!svgElement) return;

        const pt = svgElement.createSVGPoint();
        pt.x = e.clientX;
        pt.y = e.clientY;

        const ctm = svgElement.getScreenCTM();
        if (!ctm) return;

        const svgP = pt.matrixTransform(ctm.inverse());

        const x1 = line.x1;
        const y1 = line.y1;
        const x2 = line.x2;
        const y2 = line.y2;

        const dx = x2 - x1;
        const dy = y2 - y1;
        const dpx = svgP.x - x1;
        const dpy = svgP.y - y1;

        const lenSq = dx * dx + dy * dy;
        if (lenSq === 0) return;

        let t = (dpx * dx + dpy * dy) / lenSq;
        t = Math.max(0, Math.min(1, t));

        const imageCount = line.images.length;
        if (imageCount === 0) {
          onHoverChange(false, null, 0, 0);
          return;
        }

        let imageIndex = Math.floor(t * imageCount);
        if (imageIndex >= imageCount) imageIndex = imageCount - 1;

        const selectedImage = line.images[imageIndex];
        onHoverChange(true, selectedImage, e.clientX, e.clientY);
      }, [line, onHoverChange]);

      const handleMouseLeave = useCallback(() => {
        onHoverChange(false, null, 0, 0);
      }, [onHoverChange]);

      const handleMouseEnter = useCallback((e) => {
        handleMouseMove(e);
      }, [handleMouseMove]);

      return (
        <g>
          <line
            ref={lineRef}
            x1={line.x1}
            y1={line.y1}
            x2={line.x2}
            y2={line.y2}
            stroke="transparent"
            strokeWidth={10}
            style={{ cursor: 'none' }}
            onMouseMove={handleMouseMove}
            onMouseLeave={handleMouseLeave}
            onMouseEnter={handleMouseEnter}
          />
          <line
            x1={line.x1}
            y1={line.y1}
            x2={line.x2}
            y2={line.y2}
            stroke={line.color}
            strokeWidth={0.6}
            strokeLinecap="round"
            className="pointer-events-none"
          />
        </g>
      );
    }

    function FloatingImage({ src, x, y, isVisible, onImageClick }) {
      const [smoothX, setSmoothX] = useState(x);
      const [smoothY, setSmoothY] = useState(y);

      useEffect(() => {
        setSmoothX(x);
        setSmoothY(y);
      }, [x, y]);

      if (!src) return null;

      const outerStyle = {
        position: 'fixed',
        left: smoothX,
        top: smoothY,
        transform: 'translate(-50%, -50%)',
        pointerEvents: 'none',
        zIndex: 40,
        opacity: isVisible ? 1 : 0,
        transition: 'opacity 0.2s ease-out',
      };

      const innerStyle = {
        position: 'relative',
        pointerEvents: 'none',
        cursor: 'default',
      };

      const mediaStyle = {
        maxWidth: '450px',
        maxHeight: '600px',
        objectFit: 'contain',
        boxShadow: '0 25px 50px rgba(0,0,0,0.4)',
        borderRadius: '2px',
        border: '2px solid white',
        backgroundColor: 'white',
      };

      const info = IMAGE_INFO[src] || {};
      const isVideo = info.is_video === true; 

      const MediaElement = isVideo ? (
        <video
          src={src}
          style={mediaStyle}
          autoPlay // Start playing immediately 
          loop //
          muted 
          playsInLine
        />
      ) : (
        <img 
          src={src}
          alt="Portfolio Preview"
          style={mediaStyle}
        />
      );

      return (
        <div style={outerStyle}>
          <div
            style={innerStyle}
          >
            {MediaElement} {/* Renders the correct element */}
          </div>
        </div>
      );
    }

    function CustomCursor({ x, y }) {
      const outer = {
        position: 'fixed',
        left: x,
        top: y,
        transform: 'translate(-50%, -50%)',
        pointerEvents: 'none',
        zIndex: 50,
      };
      const dot = {
        width: '10px',
        height: '10px',
        borderRadius: '999px',
        backgroundColor: '#ec4899', // pink-500
      };
      return (
        <div style={outer}>
          <div style={dot} />
        </div>
      );
    }

  // Update the function signature to include modalRef as a prop
    function ImageInfoOverlay({ isOpen, imageSrc, title, description, onClose, modalRef }) {
      const [currentImageIndex, setCurrentImageIndex] = React.useState(0);

      // Hook 2: Reset index when a new project is selected
      React.useEffect(() => {
        setCurrentImageIndex(0);
      }, [imageSrc]);

      // IMPORTANT: Return null AFTER all hooks are declared
      if (!isOpen) return null;

      const info = IMAGE_INFO[imageSrc] || {};
      const processImages = info.process_images || [];
      const galleryImages = [imageSrc, ...processImages];
      const currentSrc = galleryImages[currentImageIndex];

      const isVideo = (IMAGE_INFO[currentSrc] && IMAGE_INFO[currentSrc].is_video) || false;
      
      const handleNext = (e) => {
        e.stopPropagation();
        setCurrentImageIndex((prev) => (prev + 1) % galleryImages.length);
      };

      const handlePrev = (e) => {
        e.stopPropagation();
        setCurrentImageIndex((prev) => (prev - 1 + galleryImages.length) % galleryImages.length);
      };

      const mediaStyle = {
        width: '100%',
        maxHeight: '320px',
        objectFit: 'contain',
        marginTop: '12px',
        borderRadius: '10px',
      };

      return (
        <div className="overlay-backdrop" onClick={onClose}>
          <div 
            ref={modalRef} // Now modalRef is correctly defined via props
            className="overlay-card" 
            onClick={(e) => e.stopPropagation()}
          >
            <h2 className="overlay-title">
              {title || 'Untitled work'}
              {galleryImages.length > 1 && (
                <span style={{ fontSize: '0.8rem', fontWeight: 400, color: '#9CA3AF', marginLeft: '1rem' }}>
                  ({currentImageIndex + 1} of {galleryImages.length})
                </span>
              )}
            </h2>

            <div style={{ position: 'relative' }}>
              {isVideo ? (
                <video src={currentSrc} style={mediaStyle} autoPlay loop muted controls />
              ) : (
                <img src={currentSrc} alt={title} style={mediaStyle} />
              )}

              {galleryImages.length > 1 && (
                <>
                  <button onClick={handlePrev} style={navButtonStyle('left')}>{'<'}</button>
                  <button onClick={handleNext} style={navButtonStyle('right')}>{'>'}</button>
                </>
              )}
            </div>

            <p className="overlay-text">{description || 'No description yet.'}</p>
            <button className="overlay-button" onClick={onClose}>close</button>
          </div>
        </div>
      );
    }

const navButtonStyle = (side) => ({
  position: 'absolute',
  top: '50%',
  [side]: '10px',
  transform: 'translateY(-50%)',
  background: 'rgba(0,0,0,0.5)',
  color: 'white',
  border: 'none',
  borderRadius: '50%',
  width: '30px',
  height: '30px',
  cursor: 'pointer',
  display: 'flex',
  alignItems: 'center',
  justifyContent: 'center',
  fontSize: '18px'
});


    function App() {
      const overlayRef = useRef(null);

      const [hoverState, setHoverState] = useState({
        isVisible: false,
        imageSrc: null,
        x: 0,
        y: 0,
      });

      const [cursor, setCursor] = useState({ x: 0, y: 0 });

      const [overlay, setOverlay] = useState({
        isOpen: false,
        imageSrc: null,
        title: '',
        description: '',
      });

      // Close overlay with ESC
      useEffect(() => {
        const onKeyDown = (e) => {
          if (e.key === 'Escape') {
            handleCloseOverlay();
          }
        };
        window.addEventListener('keydown', onKeyDown);
        return () => window.removeEventListener('keydown', onKeyDown);
      }, []);

      const handleHoverChange = (isVisible, imageSrc, x, y) => {
        if (overlay.isOpen) return;
        setHoverState({
          isVisible,
          imageSrc,
          x,
          y,
        });
      };

      const handleRootMouseMove = (e) => {
        setCursor({ x: e.clientX, y: e.clientY });
      };
      const handleRootMouseDown = (e) => {
        if (overlay.isOpen) {
          if (overlayRef.current && overlayRef.current.contains(e.target)) {
            return;
          }
          handleCloseOverlay();
          return;
        }

        if (hoverState.isVisible && hoverState.imageSrc) {
    handleImageClick(hoverState.imageSrc);
  }
};

      const normalizeKey = (s) => {
        try {
          const u = new URL(s, window.location.href);
          const path = u.pathname;
          // We no longer need to look for /ASSETS/ since everything is flat
          const parts = path.split('/');
          return parts[parts.length - 1]; 
        } catch {
          return s;
        }
      };
      const handleImageClick = (imageSrc) => {
        const key = normalizeKey(imageSrc);

        // IMPORTANT: look up by the normalized key so it works both locally and on Vercel
        const info = IMAGE_INFO[key] || IMAGE_INFO[imageSrc] || {
          title: 'Untitled work',
          description: 'No description yet.',
        };

        setOverlay({
          isOpen: true,
          imageSrc: key,
          title: info.title,
          description: info.description,
        });

        // freeze the hover image immediately when the overlay opens
        setHoverState({ isVisible: false, imageSrc: null, x: 0, y: 0 });
      };

      const handleCloseOverlay = () => {
        setOverlay((prev) => ({ ...prev, isOpen: false }));
        setHoverState({ isVisible: false, imageSrc: null, x: 0, y: 0 });
      };

      return (
        <div
          className="app-root"
          onMouseMove={handleRootMouseMove}
          onMouseDown={handleRootMouseDown}
        >
          <svg
            className="bdp-svg"
            style={{
              width: '100%',
              height: '100%',
              position: 'absolute',
              inset: 0,
              pointerEvents: overlay.isOpen ? 'none' : 'auto',
            }}
            viewBox="0 0 100 100" 
            preserveAspectRatio="none"
          >
            {LINES.map((line) => (
              <InteractiveLine
                key={line.id}
                line={line}
                onHoverChange={handleHoverChange}
              />
            ))}
          </svg>

          <FloatingImage
            src={hoverState.imageSrc}
            x={hoverState.x}
            y={hoverState.y}
            isVisible={hoverState.isVisible && !overlay.isOpen}
            onImageClick={handleImageClick}
          />

          <div className="bdp-title">
            Jennifer Jiyoon Lee
          </div>

          {/* New Resume Link */}
          <div style={{ position: 'absolute', top: '4.5rem', left: '2rem', zIndex: 100 }}>
            <a 
              href="portfolio.pdf" 
              target="_blank" 
              style={{ 
                color: '#9CA3AF', 
                fontSize: '0.7rem', 
                textDecoration: 'none', 
                fontWeight: 400, 
                fontFamily: 'Montserrat, sans-serif',
                letterSpacing: '0.1em' 
              }}
            >
              VIEW PORTFOLIO
            </a>
          </div>

          <div className="bdp-instruction">
            glide to explore
          </div>

          <CustomCursor x={cursor.x} y={cursor.y} />

          <ImageInfoOverlay
            isOpen={overlay.isOpen}
            imageSrc={overlay.imageSrc}
            title={overlay.title}
            description={overlay.description}
            onClose={handleCloseOverlay}
            modalRef={overlayRef}
          />
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
